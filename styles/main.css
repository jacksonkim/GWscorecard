/* ==========================================================================
   Georgia Watch Scorecard — main.css (drop-in, self-contained)
   - Reset & variables
   - Base + layout
   - Header / search / filters
   - Buttons & form controls
   - Results: desktop table
   - Results: mobile cards
   - Floating Compare FAB (mobile)
   - Badges, chips, utilities
   - Pagination
   - Modal (optional quick view)
   - Compare page basics (sticky first column)
   ========================================================================== */

/* ---------- 1) Modern CSS reset (small, safe) ---------------------------- */

*, *::before, *::after { box-sizing: border-box; }
* { margin: 0; }
html, body { height: 100%; }
body { -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
a { color: inherit; text-decoration: none; }
ul[role="list"], ol[role="list"] { list-style: none; padding: 0; margin: 0; }
button { background: none; border: 0; padding: 0; }
:focus-visible { outline: 3px solid #1d4ed8; outline-offset: 2px; }

/* ---------- 2) Design tokens / variables --------------------------------- */

:root{
  /* Brand (Georgia Watch palette per earlier notes) */
  --brand-primary: #6fb353;   /* primary green */
  --brand-primary-dark: #4a8a34;
  --brand-accent: #f48810;    /* accent orange */
  --brand-light: #a4cc95;     /* light green */
  --brand-muted: #eaf3e6;

  /* Neutrals */
  --bg: #ffffff;
  --bg-alt: #f8f9fb;
  --ink: #1b1f24;
  --ink-2: #3a3f45;
  --ink-3: #5a6067;
  --border: #e6e6e8;

  /* Interactive */
  --blue: #2d6cdf;            /* buttons / links */
  --blue-ink: #0f2f7a;
  --blue-border: #1f5ac0;
  --danger: #d92d20;

  /* Shadows & radii */
  --radius: 12px;
  --radius-sm: 8px;
  --shadow-1: 0 2px 8px rgba(0,0,0,0.06);
  --shadow-2: 0 6px 18px rgba(0,0,0,0.12);

  /* Typography */
  --font-system: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --fs-12: 0.75rem;
  --fs-14: 0.875rem;
  --fs-16: 1rem;
  --fs-18: 1.125rem;
  --fs-20: 1.25rem;

  /* Spacing scale */
  --sp-2: 0.125rem;
  --sp-4: 0.25rem;
  --sp-6: 0.375rem;
  --sp-8: 0.5rem;
  --sp-10: 0.625rem;
  --sp-12: 0.75rem;
  --sp-14: 0.875rem;
  --sp-16: 1rem;
  --sp-20: 1.25rem;
  --sp-24: 1.5rem;
  --sp-32: 2rem;
}

/* ---------- 3) Base & layout --------------------------------------------- */

body{
  font-family: var(--font-system);
  color: var(--ink);
  background: var(--bg);
  font-size: var(--fs-16);
  line-height: 1.55;
}

.container{
  width: min(1100px, 92vw);
  margin-inline: auto;
  padding: var(--sp-16) 0 var(--sp-24);
}

.header{
  padding: var(--sp-16) 0 var(--sp-10);
  border-bottom: 1px solid var(--border);
  background: var(--bg);
  position: sticky;
  top: 0;
  z-index: 50;
}

.header__row{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-12);
}

.brand{
  display: flex; align-items: center; gap: var(--sp-10);
  font-weight: 800; letter-spacing: 0.2px; font-size: var(--fs-20);
  color: var(--ink);
}
.brand__dot{ width: 12px; height: 12px; border-radius: 999px; background: var(--brand-primary); }

/* ---------- 4) Search / filter panel ------------------------------------- */

.search{
  margin: var(--sp-16) 0 var(--sp-12);
  display: grid;
  gap: var(--sp-12);
}

.search__row{
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--sp-12);
}

.filters{
  background: var(--bg-alt);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--sp-12);
  display: grid;
  gap: var(--sp-12);
}

.filter-row{
  display: grid;
  gap: var(--sp-12);
}

@media (min-width: 768px){
  .search__row{ grid-template-columns: 2fr 1fr; }
  .filter-row{ grid-template-columns: repeat(4, 1fr); }
}

.input, .select{
  display: block;
  width: 100%;
  padding: 0.625rem 0.75rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: #fff;
  color: var(--ink);
}
.input::placeholder{ color: var(--ink-3); }

.inline{
  display: flex; gap: var(--sp-8); align-items: center; flex-wrap: wrap;
}

/* ---------- 5) Buttons & form controls ----------------------------------- */

.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  font-weight: 700;
  line-height: 1.2;
  cursor: pointer;
  border: 1px solid transparent;
  transition: transform 0.02s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  user-select: none;
  text-align: center;
  min-height: 44px; /* touch target */
}
.btn:active{ transform: translateY(1px); }

.btn-solid{
  background: var(--blue);
  color: #fff;
  border-color: var(--blue-border);
  box-shadow: var(--shadow-1);
}
.btn-solid:hover{ filter: brightness(0.97); }

.btn-outline{
  background: #fff;
  color: var(--ink);
  border-color: #cfd3da;
}
.btn-outline:hover{ background: #f6f7f9; }

.btn-ghost{
  background: transparent;
  color: var(--blue);
  border-color: transparent;
}

.badge{
  display: inline-flex; align-items: center; gap: 0.35rem;
  padding: 0.2rem 0.5rem; border-radius: 999px; font-size: var(--fs-12);
  background: var(--bg-alt); border: 1px solid var(--border); color: var(--ink-2);
}

/* ---------- 6) Results — desktop table ----------------------------------- */

.results-wrap{ margin-top: var(--sp-12); }

/* Hide table on small screens (cards are shown); show from 768px+ */
.results-table{ display: none; width: 100%; border-collapse: collapse; }
@media (min-width: 768px){
  .results-table{ display: table; }
}

.results-table thead th{
  text-align: left;
  font-size: var(--fs-14);
  color: var(--ink-3);
  padding: 0.75rem 0.5rem;
  border-bottom: 1px solid var(--border);
  font-weight: 700;
}
.results-table tbody td{
  padding: 0.75rem 0.5rem;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
  font-size: var(--fs-14);
}
.results-table tbody tr:hover{ background: #fcfcfd; }
.results-table .cell-actions { display: flex; gap: var(--sp-8); flex-wrap: wrap; }
.results-table .cell-compare { width: 42px; }

/* Checkbox (compare) */
input[type="checkbox"]{
  width: 18px; height: 18px; accent-color: var(--brand-primary);
}

/* Desktop "Compare (n)" button */
.compare-desktop{
  margin-top: var(--sp-12);
  display: none;
}
@media (min-width: 768px){
  .compare-desktop{ display: block; }
}
.compare-desktop .btn[disabled]{ opacity: 0.55; cursor: not-allowed; }

/* ---------- 7) Results — mobile cards ------------------------------------ */

/* Cards are visible by default, hidden on desktop in favor of the table */
.results{ display: grid; gap: var(--sp-12); }
@media (min-width: 768px){
  .results{ display: none; }
}

.result-card{
  border: 1px solid var(--border);
  background: #fff;
  border-radius: var(--radius);
  padding: var(--sp-16);
  box-shadow: var(--shadow-1);
}

.rc-head{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--sp-8) var(--sp-12);
  align-items: start;
}
.rc-title{
  font-size: var(--fs-18);
  font-weight: 800;
  line-height: 1.25;
}
.rc-actions{
  display: inline-flex;
  gap: var(--sp-8);
  align-items: center;
  justify-content: flex-end;
}
.rc-quick{
  padding: 0.35rem 0.5rem;
  border: 1px solid #ddd;
  background: #f8f8f8;
  border-radius: 10px;
  cursor: pointer;
}
.rc-compare{
  display: inline-flex; gap: 0.35rem; align-items: center; font-size: var(--fs-14);
  color: var(--ink-2);
}

.rc-meta{
  grid-column: 1 / -1;
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8) var(--sp-16);
  font-size: var(--fs-14);
  color: var(--ink-3);
}

.rc-body{ margin-top: var(--sp-8); }
.rc-metrics{
  display: grid; gap: 0.35rem;
  list-style: none; padding: 0; margin: 0;
}
.rc-metrics li strong{ font-weight: 700; color: var(--ink-2); }

.rc-foot{
  margin-top: var(--sp-12);
  display: flex; gap: var(--sp-8); flex-wrap: wrap;
}
.rc-foot .btn{ min-width: 44px; }

/* Grade chip (A/B/C/D etc.) */
.rc-grade{
  padding: 0.18rem 0.5rem;
  border-radius: 999px;
  font-weight: 800;
  font-size: var(--fs-12);
  border: 1px solid var(--border);
  background: #f5f6f8;
  color: var(--ink-2);
}
.rc-grade-a{ background: #e7f5ec; color: #0c6b3d; border-color: #cfe8da; }
.rc-grade-b{ background: #f4f8e8; color: #47610e; border-color: #e7f0cf; }
.rc-grade-c{ background: #fff6e6; color: #875a06; border-color: #ffe5bf; }
.rc-grade-d{ background: #fdeceb; color: #8c1d18; border-color: #f8c9c6; }

/* ---------- 8) Floating Compare FAB (mobile) ------------------------------ */

.compare-fab{
  position: fixed;
  left: 1rem; right: 1rem; bottom: 1rem;
  padding: 0.9rem 1.1rem;
  border-radius: 14px;
  text-align: center;
  font-weight: 800;
  border: 1px solid var(--blue-border);
  background: var(--blue);
  color: #fff;
  box-shadow: var(--shadow-2);
  display: none;
  z-index: 1000;
}
.compare-fab.is-active{ display: block; }
.compare-fab[aria-disabled="true"]{ opacity: 0.6; pointer-events: none; }

/* ---------- 9) Badges, chips, helpers ------------------------------------ */

.kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 0.8em; background: #f3f4f6; border: 1px solid #e5e7eb; border-bottom-width: 2px;
  padding: 0.1rem 0.35rem; border-radius: 6px;
}

.alert{
  padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: var(--radius);
  background: #fff; color: var(--ink-2);
}
.alert--info{ border-color: #cfe1ff; background: #f4f8ff; }
.alert--warn{ border-color: #ffe4b3; background: #fff8eb; }
.alert--danger{ border-color: #ffd6d2; background: #fff1f0; }

/* Utilities */
.hidden{ display: none !important; }
.mute{ color: var(--ink-3); }
.hstack{ display: inline-flex; gap: var(--sp-8); align-items: center; }
.vstack{ display: grid; gap: var(--sp-8); }

/* ---------- 10) Pagination ------------------------------------------------ */

.pagination{
  display: flex; gap: var(--sp-8); align-items: center; justify-content: center;
  margin-top: var(--sp-16);
}
.page-btn{
  padding: 0.45rem 0.75rem; border-radius: 10px; border: 1px solid #d8dbe2; background: #fff;
  font-weight: 700; font-size: var(--fs-14);
}
.page-btn[aria-current="page"]{ background: var(--brand-muted); border-color: #cfe0c9; }

/* ---------- 11) Modal (optional quick view) ------------------------------- */

.modal{
  position: fixed; inset: 0; display: none; z-index: 1100;
}
.modal.is-open{ display: grid; place-items: center; }
.modal__backdrop{
  position: absolute; inset: 0; background: rgba(17,24,39,0.5);
}
.modal__dialog{
  position: relative; background: #fff; width: min(720px, 92vw);
  border-radius: 14px; box-shadow: var(--shadow-2); padding: var(--sp-16);
}
.modal__header{
  display: flex; align-items: center; justify-content: space-between; gap: var(--sp-8);
  margin-bottom: var(--sp-12);
}
.modal__title{ font-size: var(--fs-18); font-weight: 800; }
.modal__close{ width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; background: #fff; }

/* ---------- 12) Compare page basics -------------------------------------- */
/* If your compare.html uses .compare to wrap the matrix */

.compare{
  margin-top: var(--sp-12);
  overflow: auto;
  border: 1px solid var(--border);
  border-radius: var(--radius);
}

.compare-table{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  min-width: 720px;
  background: #fff;
}
.compare-table th,
.compare-table td{
  border-bottom: 1px solid var(--border);
  border-right: 1px solid var(--border);
  padding: 0.75rem 0.6rem;
  vertical-align: top;
  font-size: var(--fs-14);
}
.compare-table th:last-child,
.compare-table td:last-child{ border-right: 0; }

/* Sticky first column (hospital info) */
.compare-table .sticky{
  position: sticky; left: 0; z-index: 2;
  background: #fff; /* must set to avoid transparency during scroll */
  box-shadow: 6px 0 8px -6px rgba(0,0,0,0.06);
}
.compare-header{
  background: var(--bg-alt);
  font-weight: 800; color: var(--ink-2);
}
.compare-hospital{
  display: grid; gap: 2px;
}
.compare-name{ font-weight: 800; }
.compare-sub{ color: var(--ink-3); font-size: var(--fs-12); }

/* Inline stars (if you render ★ via text) */
.stars{ letter-spacing: 1px; }
.stars[data-score="5"]{ color: #0c6b3d; }
.stars[data-score="4"]{ color: #3c914e; }
.stars[data-score="3"]{ color: #b98900; }
.stars[data-score="2"]{ color: #b36200; }
.stars[data-score="1"]{ color: #a33a2a; }

/* ---------- 13) Footer ---------------------------------------------------- */

.footer{
  margin-top: var(--sp-24);
  padding: var(--sp-16) 0 var(--sp-24);
  border-top: 1px solid var(--border);
  color: var(--ink-3);
  font-size: var(--fs-14);
}

/* ---------- 14) Colorized states / messages ------------------------------- */

.state-ok{ color: var(--brand-primary-dark); }
.state-warn{ color: #a16207; }
.state-bad{ color: var(--danger); }

/* ---------- 15) Media queries polish ------------------------------------- */

@media (min-width: 1024px){
  .container{ width: min(1200px, 90vw); }
  .rc-title{ font-size: 1.15rem; }
}

/* End of file */

/* ===========================
   JS Compatibility Layer
   (aligns with main.js, details.js, comparison.js)
   =========================== */

/* Desktop compare button (index.html -> #openCompare.btn-compare) */
.btn-compare {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  font-weight: 700;
  border: 1px solid var(--blue-border);
  background: var(--blue);
  color: #fff;
  box-shadow: var(--shadow-1);
}
.btn-compare[disabled] { opacity: .55; cursor: not-allowed; }

/* Table rows + expandable details (main.js) */
.hospital-row { transition: background .15s ease; }
.hospital-row:hover { background: #fcfcfd; }
.hospital-detail-row { background: #fff; }
.details-row { padding: 0; }
.hospital-detail-container {
  padding: 1rem;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  box-shadow: var(--shadow-1);
}
.hospital-header {
  display: flex; align-items: center; justify-content: space-between;
  gap: .75rem; margin-bottom: .5rem;
}
.hospital-grade {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .2rem .5rem; border: 1px solid var(--border);
  border-radius: 999px; font-weight: 800; font-size: var(--fs-12);
  background: #f5f6f8; color: var(--ink-2);
}

/* Star widgets (main.js, details.js) */
.star-rating { display: inline-flex; align-items: center; gap: .25rem; }
.inline-stars { display: inline-flex; gap: 2px; vertical-align: middle; }
.star { width: 18px; height: 18px; display: inline-block; }
.star.full   { background: linear-gradient(#f6c800, #e3a500); -webkit-mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; }
.star.half   { background: linear-gradient(to right, #f6c800 50%, #e5e7eb 50%); -webkit-mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; }
.star.empty  { background: #e5e7eb; -webkit-mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") center/contain no-repeat; }
.sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* Details grid used in collapsed preview (main.js) */
.details-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: .75rem;
}
.details-section h4 { font-size: var(--fs-14); margin-bottom: .25rem; }
.detail-info { color: var(--ink-3); font-size: var(--fs-14); }

/* Toggle buttons inside details (main.js markup) */
.toggle-detail,
.view-full-detail,
.details-buttons .btn {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .5rem .75rem; border-radius: 10px; border: 1px solid #d8dbe2; background: #fff;
  font-weight: 700; font-size: var(--fs-14);
}
.toggle-detail:hover,
.view-full-detail:hover { background: #f6f7f9; }

/* Inline compare toggle button (main.js) */
.cmp-toggle {
  display: inline-flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; border-radius: 10px; border: 1px solid #d8dbe2; background: #fff;
}
.cmp-toggle[aria-pressed="true"] { border-color: var(--brand-primary); box-shadow: inset 0 0 0 2px var(--brand-primary); }
.cmp-icon { display: block; }
.cmp-icon--on { display: none; }
.cmp-toggle[aria-pressed="true"] .cmp-icon--off { display: none; }
.cmp-toggle[aria-pressed="true"] .cmp-icon--on  { display: block; }

/* Comparison page card list (comparison.js uses #cards + .hcard*) */
#cards {
  display: grid; gap: 0.75rem; margin-top: 0.75rem;
}
.hcard {
  border: 1px solid var(--border); border-radius: var(--radius);
  padding: 0.9rem; background: #fff; box-shadow: var(--shadow-1);
}
.hcard__name {
  font-weight: 800; font-size: var(--fs-16); margin-bottom: .25rem;
}
.hcard__meta {
  display: flex; flex-wrap: wrap; gap: .5rem 1rem; color: var(--ink-3); font-size: var(--fs-14);
}
.hospital-scores { margin-top: .5rem; display: grid; gap: .25rem; }
.category-header {
  margin-top: .5rem; font-weight: 800; color: var(--ink-2); font-size: var(--fs-14);
}
.category-body { display: grid; gap: .2rem; }
.icon { display: inline-block; width: 18px; height: 18px; vertical-align: -3px; }
.stars { letter-spacing: 1px; }

/* Map section hooks referenced in main.js (non-breaking) */
.main-content { display: grid; grid-template-columns: 1fr; gap: 1rem; }
.map-section { display: none; }
/* If you later show a map, just flip display and size it there. */

/* --- BRAND TOUCH-UP --- */
:root{
  --brand-primary: #6fb353;
  --brand-primary-dark: #4a8a34;
  --brand-accent: #f48810;
  --brand-light: #a4cc95;
  --brand-muted: #eaf3e6;

  --blue: #2d6cdf;         /* used by solid buttons; keep for now */
  --blue-border: #1f5ac0;
}

/* Buttons that should be green (replace blue with brand where appropriate) */
.btn-solid,
#applyFiltersBtn,
#openCompare,
#compareFab {
  background: var(--brand-primary);
  border-color: var(--brand-primary-dark);
}

.btn-solid:hover,
#applyFiltersBtn:hover,
#openCompare:hover,
#compareFab:hover {
  filter: brightness(0.96);
}

/* Links / highlights you want green instead of blue */
a,
a:visited { color: var(--brand-primary-dark); }
a:hover { color: var(--brand-primary); }

/* Divider lines in primary dark green if desired */
hr, .divider, .results-table thead th {
  border-color: var(--brand-primary-dark);
}
